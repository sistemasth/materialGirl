<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->

<!--
/**
* Polymer UI Elements
*
* @module Polymer UI Elements
*/
/**
 * @class polymer-ui-scaffold
 */
-->
<link rel="import" href="polymer/polymer.html">
<link rel="import" href="components/core-layout-grid/core-layout-grid.html">
<link rel="import" href="components/core-toolbar/core-toolbar.html">
<link rel="import" href="components/core-icon-button/core-icon-button.html">

<polymer-element name="polymer-ui-scaffold" attributes="menuActive hideMenuButton">
  <template>
    <link rel="stylesheet" href="polymer-ui-scaffold.css">
    <core-layout-grid id="grid"></core-layout-grid>
    <section class="animate" offscreen="basement">
      <content select="[navigation]"></content>
    </section>
    <core-toolbar class="animate">
      <core-icon-button icon="menu" hidden?="{{hideMenuButton}}" on-tap="{{menuActionTap}}" active="{{menuActive}}"></core-icon-button>
      <content select="[tool]"></content>
    </core-toolbar>
    <section class="animate">
      <content select="*"></content>
    </section>
  </template>
  <script>
    (function() {
      Polymer('polymer-ui-scaffold', {
        menuActive: false,
        hideMenuButton: false,
        layouts: {
          main:[
            [2, 2],
            [3, 3],
            [3, 3]
          ],
          menu: [
            [1, 2, 2],
            [1, 3, 3],
            [1, 3, 3]
          ]
        },
        ready: function() {
          this.$.grid.layout = this.layouts.main;
        },
        menuActionTap: function() {
          this.menuActive = !this.menuActive;
          Platform.flush();
        },
        menuActiveChanged: function() {
          this.$.grid.layout = this.layouts[this.menuActive ? 'menu' : 'main'];
        }
      });
    })();
  </script>
</polymer-element>